{
  "backup": {
    "retention": "30d",
    "schedule": "0 2 * * *",
    "volumes": [
      "${VOLUME_PATHS}"
    ]
  },
  "composeFile": "dockermaster/docker/compose/${SERVICE_DIRECTORY}/docker-compose.portainer.yml",
  "created": "${CREATION_DATE}",
  "dependencies": [
    "${DEPENDENT_SERVICES}"
  ],
  "env": [
    {
      "description": "Process User ID for file permissions",
      "name": "PUID",
      "value": "1000"
    },
    {
      "description": "Process Group ID for file permissions",
      "name": "PGID",
      "value": "1000"
    },
    {
      "description": "Timezone setting",
      "name": "TZ",
      "value": "UTC"
    }
  ],
  "gitops": {
    "autoUpdate": true,
    "composeFilePathInRepository": "dockermaster/docker/compose/${SERVICE_DIRECTORY}/docker-compose.portainer.yml",
    "enabled": true,
    "pullPolicyMode": "Always"
  },
  "migration_phase": "${MIGRATION_PHASE}",
  "monitoring": {
    "healthcheck": {
      "enabled": true,
      "endpoint": "http://${SERVICE_IP}:${SERVICE_PORT}/health",
      "interval": "30s"
    },
    "watchtower": {
      "enabled": true,
      "updateSchedule": "0 4 * * 0"
    }
  },
  "name": "${STACK_NAME}",
  "note": "Stack configuration for GitOps deployment via Portainer",
  "portainer": {
    "accessControl": {
      "administratorOnly": false,
      "restrictedToTeam": false
    },
    "autodeploy": true,
    "webhook": {
      "enabled": true,
      "token": "${WEBHOOK_TOKEN}",
      "url": "https://192.168.59.2:9000/api/webhooks/${WEBHOOK_ID}"
    }
  },
  "repositoryReference": "refs/heads/main",
  "repositoryUrl": "https://github.com/luiscamaral/home-lab-inventory",
  "secrets": {
    "secret_vars": [
      "${SECRET_ENVIRONMENT_VARS}"
    ],
    "vault_integration": true,
    "vault_path": "secret/dockermaster/${STACK_NAME}/"
  }
}
