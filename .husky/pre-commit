#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run pre-commit hooks if available
if command -v pre-commit >/dev/null 2>&1; then
  echo "ğŸ” Running pre-commit hooks..."
  pre-commit run --files $(git diff --cached --name-only)
  
  if [ $? -eq 0 ]; then
    echo "âœ… Pre-commit hooks passed"
  else
    echo "âŒ Pre-commit hooks failed"
    echo ""
    echo "ğŸ’¡ Fix the issues above and try again"
    echo "ğŸ’¡ Use 'pre-commit run --all-files' to run all hooks"
    echo "ğŸ’¡ Use 'pre-commit run <hook-id>' to run a specific hook"
    exit 1
  fi
else
  echo "âš ï¸  pre-commit not found, skipping pre-commit hooks"
  echo "ğŸ’¡ Install pre-commit: pip install pre-commit"
  echo "ğŸ’¡ Set up hooks: pre-commit install"
fi

echo "ğŸš€ Ready to commit!"